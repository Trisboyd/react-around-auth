(this["webpackJsonparound-react-auth"]=this["webpackJsonparound-react-auth"]||[]).push([[0],{19:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),c=n(21),o=n.n(c),r=n(8),s=(n(19),n(15)),u=n(9),l=n(2),d=n(3),p=n.p+"static/media/aroundtheus.c7581985.svg",h=n(0);var b=function(e){var t=Object(d.h)();return i.a.useEffect((function(){"/signin"===t.pathname&&e.setRegisterPath(),"/signup"===t.pathname&&e.setLoginPath(),"/"===t.pathname&&e.setLogoutPath()}),[t]),Object(h.jsxs)("header",{className:"header",children:[Object(h.jsx)("img",{className:"header__img",src:p,alt:"Around the U.S."}),Object(h.jsx)("p",{className:"header__email",children:e.userEmail}),Object(h.jsx)(r.b,{to:e.headerLink.path,className:"header__link",onClick:function(){"/"===t.pathname&&e.signOut()},children:e.headerLink.name})]})},m=i.a.createContext(),j=function(e){var t=i.a.useContext(m);var n=e.cardOwner===t.id,a="place__trash ".concat(n?"place__trash_visible":"place__trash_hidden"),c=e.card.likes.some((function(e){return e===t.id})),o="place__button ".concat(c?"place__button_type_filled":"place__button_type_unfilled");return Object(h.jsxs)("article",{className:"place",children:[Object(h.jsx)("button",{className:a,type:"button","aria-label":"trash-button",onClick:function(){e.onCardDelete(e.card)}}),Object(h.jsx)("img",{className:"place__image",src:e.link,alt:e.name,onClick:function(){e.onCardClick(e.card)}}),Object(h.jsxs)("div",{className:"place__info",children:[Object(h.jsx)("h2",{className:"place__name",children:e.name}),Object(h.jsxs)("div",{className:"place__info_like-column",children:[Object(h.jsx)("button",{className:o,type:"button",onClick:function(){e.onCardLike(e.card)},"aria-label":"like-button"}),Object(h.jsx)("p",{className:"place__like-count",children:e.likes})]})]})]})};var A=function(e){var t=i.a.useContext(m);return Object(h.jsxs)("main",{children:[Object(h.jsxs)("section",{className:"profile",children:[Object(h.jsxs)("div",{className:"profile__image-container",onClick:e.onEditAvatarClick,children:[Object(h.jsx)("img",{className:"profile__pic",src:t.avatar,alt:"profile-image"}),Object(h.jsx)("img",{className:"profile__pic-edit",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaBAMAAABbZFH9AAAAIVBMVEUAAAD////////////////////////////////////////PIev5AAAACnRSTlMAIN+Av5BA73Bgx8dFNwAAAEZJREFUGNNjQABGRwYkILRIAElKa5UiktSqVUuQpUByCKlFAkNVihMsBQdWSFLMAsxIUkyKDI0IdVnImhiilhsg8VwTkDgAn/AnIS+N68cAAAAASUVORK5CYII=",alt:"edit-avatar-button"})]}),Object(h.jsxs)("div",{className:"profile__text",children:[Object(h.jsxs)("div",{className:"profile__top-row",children:[Object(h.jsx)("h1",{className:"profile__name",children:t.name}),Object(h.jsx)("button",{className:"profile__edit-button",type:"button","aria-label":"edit-profile",onClick:e.onEditProfileClick})]}),Object(h.jsx)("p",{className:"profile__descriptor",children:t.about})]}),Object(h.jsx)("button",{className:"profile__add-place-button",type:"button","aria-label":"add-place",onClick:e.onAddPlaceClick})]}),Object(h.jsx)("section",{className:"places",children:e.cards.map((function(t){return Object(h.jsx)(j,{card:t,name:t.name,link:t.link,id:t._id,likes:t.likes.length,onCardClick:e.onCardClick,cardOwner:t.owner,onCardLike:e.handleCardLike,onCardDelete:e.handleCardDelete},t._id)}))})]})},f=n(14);var x=function(e){var t=e.props,n=e.handleAuthorization,a=Object(d.h)(),c=t.name,o=t.message,s=t.path,p=t.clickSubmitButton,b=i.a.useState({email:"",password:""}),m=Object(l.a)(b,2),j=m[0],A=m[1],x=function(e){var t=e.target,n=t.name,a=t.value;A(Object(u.a)(Object(u.a)({},j),{},Object(f.a)({},n,a)))};return Object(h.jsx)("section",{className:"auth",children:Object(h.jsxs)("form",{className:"edit-box edit-box_auth",onSubmit:function(e){e.preventDefault(),"/signup"===a.pathname?j.email&&j.password?(n(j),p()):console.log("Email and password required"):function(){if(!j.email||!j.password)return!1;n(j)}()},children:[Object(h.jsx)("h2",{className:"auth__title",children:c}),Object(h.jsx)("input",{type:"text",className:"auth__input",name:"email",placeholder:"Email",value:j.email,onChange:x}),Object(h.jsx)("input",{type:"text",className:"auth__input",name:"password",placeholder:"Password",value:j.password,onChange:x}),Object(h.jsx)("button",{type:"submit",id:"login",className:"edit-box__submit edit-box__submit_auth",name:"edit-box-submit","aria-label":"submit",value:"Login",children:c}),Object(h.jsx)(r.b,{to:s,className:"auth__text",children:o})]})})},g=n(26),O=["component"];var _=function(e){var t=e.component,n=Object(g.a)(e,O);return Object(h.jsx)(d.b,{children:n.loggedIn?t:Object(h.jsx)(d.a,{to:"/signup"})})};var v=function(e){return Object(h.jsx)("section",{className:"popup popup_".concat(e.name," ").concat(e.isOpen?"popup_visible":""),children:Object(h.jsxs)("div",{className:"popup__container",children:[Object(h.jsx)("button",{className:"popup__exit popup__exit_".concat(e.name),type:"button","aria-label":"exit",onClick:e.onClose}),Object(h.jsxs)("form",{className:"edit-box edit-box_type_".concat(e.name),name:e.name,onSubmit:e.onSubmit,children:[Object(h.jsx)("h3",{className:"edit-box__title",children:e.title}),e.children,Object(h.jsx)("button",{type:"submit",id:e.name,className:"edit-box__submit",name:"edit-box-submit","aria-label":"submit",value:"Save",children:e.buttonText})]})]})})};var k=function(e){var t=i.a.useState(""),n=Object(l.a)(t,2),a=n[0],c=n[1],o=i.a.useState(""),r=Object(l.a)(o,2),s=r[0],u=r[1],d=i.a.useContext(m);return i.a.useEffect((function(){c(d.name),u(d.about)}),[d,e.isOpen]),Object(h.jsxs)(v,{name:"edit-profile",title:"Edit Profile",buttonText:"Save",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault();var n={name:a,about:s};e.onUpdateUser(n)},children:[Object(h.jsx)("input",{type:"text",value:a,id:"profile-name",onChange:function(e){c(e.target.value)},className:"edit-box__text edit-box__text_type_name",name:"name",minLength:"2",maxLength:"40",required:!0}),Object(h.jsx)("span",{className:"edit-box__text-error edit-box__text-error_type_name",id:"profile-name-error"}),Object(h.jsx)("input",{type:"text",value:s,id:"profile-descriptor",onChange:function(e){u(e.target.value)},className:"edit-box__text edit-box__text_type_descriptor",name:"descriptor",minLength:"2",maxLength:"200",required:!0}),Object(h.jsx)("span",{className:"edit-box__text-error edit-box__text-error_type_descriptor",id:"profile-descriptor-error"})]})};var C=function(e){var t=i.a.useRef();return Object(h.jsxs)(v,{name:"edit-avatar",title:"Change Profile Picture",buttonText:"Save",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(n){n.preventDefault(),e.onUpdateAvatar(t.current.value)},children:[Object(h.jsx)("input",{type:"url",placeholder:"Avatar link",id:"avatar-link",ref:t,className:"edit-box__text edit-box__text_type_descriptor",name:"link",required:!0}),Object(h.jsx)("span",{className:"edit-box__text-error edit-box__text-error_type_url",id:"avatar-link-error"})]})};var N=function(e){var t=i.a.useState(""),n=Object(l.a)(t,2),a=n[0],c=n[1],o=i.a.useState(""),r=Object(l.a)(o,2),s=r[0],u=r[1];return i.a.useEffect((function(){c(""),u("")}),[e.isOpen]),Object(h.jsxs)(v,{name:"add-place",title:"New Place",buttonText:"Create",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault();var n={name:a,link:s};e.onAddCard(n)},children:[Object(h.jsx)("input",{type:"text",placeholder:"Title",id:"place-title",value:a,onChange:function(e){c(e.target.value)},className:"edit-box__text edit-box__text_type_name",name:"name",minLength:"1",maxLength:"30",required:!0}),Object(h.jsx)("span",{className:"edit-box__text-error edit-box__text-error_type_place-title",id:"place-title-error"}),Object(h.jsx)("input",{type:"url",placeholder:"Image link",id:"image-link",value:s,onChange:function(e){u(e.target.value)},className:"edit-box__text edit-box__text_type_descriptor",name:"link",required:!0}),Object(h.jsx)("span",{className:"edit-box__text-error edit-box__text-error_type_url",id:"image-link-error"})]})};var S=function(e){return Object(h.jsx)(v,{name:"card-delete",title:"Are you sure?",buttonText:"Yes",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.cardDelete()}})};var y=function(e){var t,n,a;return Object(h.jsx)("section",{className:"popup popup_image ".concat(e.card?"popup_visible":""),children:Object(h.jsxs)("div",{className:"popup-image-container",children:[Object(h.jsx)("button",{className:"popup__exit popup__exit_image",type:"button","aria-label":"exit",onClick:e.onClose}),Object(h.jsx)("img",{className:"popup-image-container__pic",src:null===(t=e.card)||void 0===t?void 0:t.link,alt:null===(n=e.card)||void 0===n?void 0:n.name}),Object(h.jsx)("p",{className:"popup-image-container__title",children:null===(a=e.card)||void 0===a?void 0:a.name})]})})};var E=function(e){return Object(h.jsx)("section",{className:"popup ".concat(e.isOpen?"popup_visible":""),children:Object(h.jsx)("div",{className:"popup__container",children:Object(h.jsxs)("div",{className:"edit-box",children:[Object(h.jsx)("button",{className:"popup__exit",type:"button","aria-label":"exit",onClick:e.onClose}),Object(h.jsx)("img",{className:"edit-box__register-image",alt:"NA",src:function(){if(e.isRegistered){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAANlBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC3dmhyAAAAEXRSTlMAIN/vYBCAQL9wMJ/PkK+gUEytRtEAAAQQSURBVGje1ZvZduowDEUteZ4C/P/PXoy5VYtJ4zGLnleSbHQsy/EQ1iypRfQGkd+SMJhNWS3ZWmm74e2tcLOarZG0ht9+Fd8ELKB+PT54JTRAdhecFmqjv2SmsrV/Phj93nOduOCT7fUsrHkGYw+CAfG8MogZWHxSqxIXRMjWiCnR8tjgnrtk9IjhkLFKNt4WHy556OVaTthGtMr/eCBcLzvNehiO0BluGGgowBS0bS0YMf1hxYb08Du2/duQfHJsUICNdrt0Q5QTKm1sIl9T81o2RTY19LXuWpGuHbG5dE9UcUt3xhta9HLXk6/EnUu+HlzDiTuXzN3BFd3coecu4JKTYb8wpO7u2BK536qnnVE3mh5OdsSJqNJODrsNLNkyyfvzzd4gBmyhHJn9arRiS6Xemu3vRrPFCm/M1muNJoguM8uz5boUIQsKeKUkfw0ZKbOWSr1kkuir0eMhh3U1qwzZDKf0eMieUnq54jcWNI2G432ZS0qtwE6ToYptKl4Cpw7MhpwGdprkHSf/O23YeSKvt6lOO1XtNZ/ptOP7tZc6EX/mN07jCl4xn8dcQ+zE6iFuD6nDwdFSE8/jEnn/si0H7mYNAF+yB42Mj27Fp3NxP5RnOsuUW2Y6Fw5f+nTKre00LmWXSDeo07h0caSkPoNLae2ZSX6Pyjdxc14F6k0zuIG4B/0Jhyu1/M6VrBZ8v7rq6fu/hEZurh2VYAiignup47IErQTj3os3fOcyNhus9vIVsODOBAsq/ftcxZrAuWAX2nm8h0EugWu6kymGnTEu9eOKgIkwwqVlmEAl82Arp6hNrotLJTMNUTV7QSQUDy7v4tK7T6T7qu2O8gdXdIxlKtF95fSShHaEm4Zim/wOdf7g+/35dm7Oq/qXPTDvuK6dm2tHy7ioBrnUm7DhhZ5yrKgnHUldTGGaujRC7wuLbZ+0WT7ApUlbxzQVsJtL01SaobdIEbe3iWmG3qQrdnJprYdWQ5oEJnRxaa2HvG6U7ILSWg95fZpCdpoWNk+Sy05nXdavGpcLtrSwuViUWvpHhit2iiKNwieFTGVPfMJmyFkhQ/mmZNbvDtA+Yrn7tljwDmKW7g/QPuLnbOMyu3ovBvbmHGb9Vj1+1uGEE45jfNoBFCZDYcfEGo3yAw8ZMbfuWBV85kGyl6Nzf/rQHnGryG7enl/ifvaBUMZg7hFY13Nad/wUauMsa84x5x7jLB8MWoeOg9008/cwskNioM8q/vAbOrCKU7j9J/AjNGMp3LHvQrxruCVmrGZjEhkdBLR8JYSEHUCHyi+KIFMp2mHpyy0LvXA7UOExX8P9DCw9lz60MpsS2kG2FkAL5UNq1uIroWns7ejTsh3qX/2Yjj4ftGozAXOQiMZHodsj/QcvIWFxIhkcawAAAABJRU5ErkJggg=="}return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAARVBMVEUAAAD9Bgb7CAj9Bwf6BQX8Bgb9Bgb9Bgb+Bwf/EBD6Bgb9Bgb7CAj7BAT+Bgb9Bgb/AAD8Bgb8Bgb6CQn9Bwf/Bwf9Bwdfpk7LAAAAFnRSTlMA7yDfMICfYL8QcJBAQM+vEKBQcHBvZQGlFwAABDxJREFUaN7Vm9t62yAQhDkI0BE5Tqr3f9Qa43a+xnEWxpDPnStfSPzeYQEhVqpa0xYWP1qrjyQbx93N26T6apt3e3wpu8+b6qNpHvXxrfQeTAfq3+ajd2E1JrtrhjW4HX9pbMre/K1h6x+1O4Q3e2P7rRV2vAUzC8GYcLsyhhZYe6OKiZvZMVsTmkSrl1UVa3jL6GcMNxnrpsrblqtLnk6zXxrYSrTL//iJcP1EmnU13Boy3LgqWsamoD9qJ4wl/WGnntLV76Xu38bk08ASEXSl3UO6YWmw4pyWKvI5de+smug9dfRZFSmkawWbK90LRVzBHaqjA8vtTz6D25Z8Fq7R4LYkS1ljLM99qt0OXDgZH08MabgPqouG72bPX2XzBj+TfDy2Y1HtBTu1edjBHXcEp0v746NFzKiOGmD2Z6Od6ir3pdn+YrTqrPiF2WtfowHZ7jPLq+56uws5IOCeOunPIVtkVle5T5kUhDm6W8iRmLPokMfalJ7ah+xLUtqVPACeC6ZssExeDUWPZLI/XMFY1hNSKxZwZbIv2faMxzHjZ5C5mSxxZfJ8SS84bUSuSM5cmXy6XDL9cXoUn5hAFrggi17vstODQAYXYNlrDafLyCwXg0jn/Mb0WUhmuVgYthy5VwSZ4GJxnNHFBJni5mzec+CDIsg0V5lr555yVxNkkpvTeVIrRjFBprgqpuyak+EUmeAiu4JyuIEgU9zEXJDUBLmai7T2akx+s2SOm/MqptFEkiFwi8eTxUxNkMGtBl/uUoog89w8dwBMkEmuSlCAebJTLJggH9CifhDsD0gPFDhN2CQXZAKM4URxQe46jsElyciQiCmT4BJkTJlpiWK5XleT8eyzpHHIcZ0aOHJaihPds1zFkdNSPCe/I8slyTmv0oRNcllynjswnghuJRmjyeKBnuASZCR13sIQXIaMhmZs2gguQcamDdtUgkuQsU3FDr2CS5LRxdih89x7shFHccDbEPngD1yB7CSnU9eWeu2EVkEWuHjXU+i1k1vNZFewVQx3LzYlspOePWXucHUa28albC1TAlnk4oUtXmyKZNfgzbL59zxkRDSdtWAVLg252UFyeIXDkJ8K2dyXKYx9Drzkc0ScvvGqTGmEHFU34RzxdY5x1XuvygQY/SC0se9R/ZRKAV6rOAEVE42FWo9XK0BRp/jAjjbFPq9YZKSGfmVV5jULye5L5/7foj1wi8jtyiM1uEUFoR/t5g19LnanVQnstMA9slqXr0KNdc20KXNmjHvXTwa9xdS9MzcM+Ar8yae7R8NZlbd/hsA6jXD5CvzFEFiES2m1+TXtUNG3S8au6jmFjI7B1HwlZIHlFWLhF0UmUVtEC8Pfjizrw/AAGrzN12jfAot28aHVuLuwDSZba8wWnI+pW6WvhHj2Ln1aJlJ5z7/7mG5VfTWts9vHaHOQ1o5+CWt9pL8BKj+VgJVzJVsAAAAASUVORK5CYII="}()}),Object(h.jsx)("h3",{className:"edit-box__register-message",children:function(){if(e.isRegistered){return"Success! You have now been registered."}return"Oops, something went wrong! Please try again."}()})]})})})};var B=function(){return Object(h.jsx)("footer",{className:"footer",children:Object(h.jsx)("p",{className:"footer__text",children:"\xa9 2021 Around The U.S."})})},L="https://boydaround.herokuapp.com",U=function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))},w=n(24),T=n(25),P=new(function(){function e(t){var n=t.baseUrl;Object(w.a)(this,e),this._url=n}return Object(T.a)(e,[{key:"getProfile",value:function(e){var t=this;return fetch("".concat(this._url,"/users/me"),{headers:{authorization:"Bearer ".concat(e)}}).then((function(e){return t._checkResponse(e)}))}},{key:"getCardList",value:function(e){var t=this;return fetch("".concat(this._url,"/cards"),{headers:{authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}).then((function(e){return t._checkResponse(e)}))}},{key:"changeLikeCardStatus",value:function(e,t,n){var a=this;return t?fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"DELETE",headers:{authorization:"Bearer ".concat(n)}}).then((function(e){return a._checkResponse(e)})):fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"PUT",headers:{authorization:"Bearer ".concat(n)}}).then((function(e){return a._checkResponse(e)}))}},{key:"deleteCard",value:function(e,t){var n=this;return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:{authorization:"Bearer ".concat(t)}}).then((function(e){return n._checkResponse(e)}))}},{key:"changeProfile",value:function(e,t){var n=this;return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:{authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return n._checkResponse(e)}))}},{key:"addCard",value:function(e,t){var n=this;return fetch("".concat(this._url,"/cards"),{method:"POST",headers:{authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return n._checkResponse(e)}))}},{key:"changeAvatar",value:function(e,t){var n=this;return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:{authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then((function(e){return n._checkResponse(e)}))}},{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}}]),e}())({baseUrl:"https://boydaround.herokuapp.com"});var D=function(){var e=i.a.useState({name:"Log in",path:"/signin"}),t=Object(l.a)(e,2),n=t[0],a=t[1],c=i.a.useState(!1),o=Object(l.a)(c,2),r=o[0],p=o[1],j=i.a.useState(!1),f=Object(l.a)(j,2),g=f[0],O=f[1],v={name:"Sign up",path:"/signin",message:"Already a member? Log in here!",clickSubmitButton:Oe},w=localStorage.getItem("token"),T=Object(d.g)(),D=i.a.useState(""),R=Object(l.a)(D,2),V=R[0],I=R[1],M=function(){w&&function(e){return fetch("".concat(L,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return U(e)})).then((function(e){return e}))}(w).then((function(e){e&&(I(e.userProfile.email),p(!0),T.push("/"))})).catch((function(e){return console.log(e)}))};i.a.useEffect((function(){M()}),[T,w]);var F=i.a.useState({name:"",about:"",avatar:"",id:""}),Z=Object(l.a)(F,2),H=Z[0],G=Z[1],X=function(e){G((function(t){return Object(u.a)(Object(u.a)({},t),{},{avatar:e})}))},J=function(e){G((function(t){return Object(u.a)(Object(u.a)({},t),{},{name:e.name,about:e.about,id:e._id})}))};i.a.useEffect((function(){P.getProfile(w).then((function(e){J(e.userProfile),X(e.userProfile.avatar)})).catch((function(e){console.log(e)}))}),[]);var z=i.a.useState(!1),K=Object(l.a)(z,2),Q=K[0],W=K[1],q=i.a.useState(!1),Y=Object(l.a)(q,2),$=Y[0],ee=Y[1],te=i.a.useState(!1),ne=Object(l.a)(te,2),ae=ne[0],ie=ne[1],ce=i.a.useState(!1),oe=Object(l.a)(ce,2),re=oe[0],se=oe[1],ue=i.a.useState(!1),le=Object(l.a)(ue,2),de=le[0],pe=le[1],he=i.a.useState(),be=Object(l.a)(he,2),me=be[0],je=be[1],Ae=i.a.useState(),fe=Object(l.a)(Ae,2),xe=fe[0],ge=fe[1];function Oe(){pe(!0)}function _e(){ie(!1),W(!1),ee(!1),se(!1),pe(!1),je()}var ve=i.a.useState([]),ke=Object(l.a)(ve,2),Ce=ke[0],Ne=ke[1];return i.a.useEffect((function(){P.getCardList(w).then((function(e){Ne([].concat(Object(s.a)(Ce),Object(s.a)(e.cards)))})).catch((function(e){console.log(e)}))}),[w]),console.log(H),Object(h.jsx)("div",{children:Object(h.jsxs)(m.Provider,{value:H,children:[Object(h.jsx)(b,{headerLink:n,setLoginPath:function(){a({name:"Log in",path:"/signin"})},setRegisterPath:function(){a({name:"Sign up",path:"/signup"})},setLogoutPath:function(){a({name:"Log out",path:"/signin"})},signOut:function(){T.push("/signin"),localStorage.removeItem("token"),p(!1),I("")},userEmail:V}),Object(h.jsxs)(d.d,{children:[Object(h.jsx)(_,{exact:!0,path:"/",loggedIn:r,component:Object(h.jsx)(A,{onEditAvatarClick:function(){W(!0)},onEditProfileClick:function(){ee(!0)},onAddPlaceClick:function(){ie(!0)},onCardClick:function(e){je(e)},cards:Ce,handleCardLike:function(e){var t=e.likes.some((function(e){return e===H.id}));P.changeLikeCardStatus(e._id,t,w).then((function(t){Ne(Ce.map((function(n){return n._id===e._id?t.cardData:n})))})).catch((function(e){console.log(e)}))},handleCardDelete:function(e){!function(e){se(!0),ge(e)}(e)}})}),Object(h.jsx)(d.b,{path:"/signin",children:Object(h.jsx)(x,{props:{name:"Log in",path:"/signup",message:"Not a member? Sign up here!"},handleAuthorization:function(e){(function(e){var t=e.email,n=e.password;return fetch("".concat(L,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}).then((function(e){return U(e)})).then((function(e){if(console.log(e),e.token)return localStorage.setItem("token",e.token),e})).catch((function(e){return console.log(e)}))})(e).then((function(e){e&&e.token&&(p(!0),T.push("/"))})).catch((function(e){return console.log(e)}))}})}),Object(h.jsx)(d.b,{path:"/signup",children:Object(h.jsx)(x,{props:v,handleAuthorization:function(e){(function(e){var t=e.email,n=e.password;return fetch("".concat(L,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}).then((function(e){return U(e)})).then((function(e){return e}))})(e).then((function(e){e&&(console.log(e),O(!0))})).catch((function(e){console.log(e),O(!1)})).finally((function(){Oe()}))}})})]}),Object(h.jsx)(B,{}),Object(h.jsx)(k,{isOpen:$,onClose:_e,onUpdateUser:function(e){P.changeProfile(e,w).then((function(t){J(e),_e()})).catch((function(e){console.log(e)}))}}),Object(h.jsx)(C,{isOpen:Q,onClose:_e}),Object(h.jsx)(N,{isOpen:ae,onClose:_e,onAddCard:function(e){P.addCard(e,w).then((function(e){Ne([e.data].concat(Object(s.a)(Ce))),_e()})).catch((function(e){console.log(e)}))}}),Object(h.jsx)(C,{isOpen:Q,onClose:_e,onUpdateAvatar:function(e){P.changeAvatar(e,w).then((function(e){X(e),_e()})).catch((function(e){console.log(e)}))}}),Object(h.jsx)(y,{card:me,onClose:_e}),Object(h.jsx)(S,{isOpen:re,onClose:_e,cardDelete:function(){console.log(xe),P.deleteCard(xe._id,w).then((function(e){Ne(Ce.filter((function(e){return e._id!==xe._id}))),ge(),_e()})).catch((function(e){console.log(e)}))}}),Object(h.jsx)(E,{isOpen:de,isRegistered:g,onClose:_e})]})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),c(e),o(e)}))};o.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(r.a,{basename:"/",children:Object(h.jsx)(D,{})})}),document.getElementById("root")),R()}},[[37,1,2]]]);
//# sourceMappingURL=main.ffcbcd58.chunk.js.map