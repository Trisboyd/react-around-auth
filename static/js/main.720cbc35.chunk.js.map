{"version":3,"sources":["images/aroundtheus.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","images/edit-avatar-button.png","components/Authorization.js","components/ProtectedRoute.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","components/ImagePopup.js","components/InfoTooltip.js","images/confirmed-register.png","images/denied-register.png","components/Footer.js","utils/auth.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","location","useLocation","React","useEffect","pathname","setRegisterPath","setLoginPath","setLogoutPath","className","src","aroundTheUs","alt","userEmail","to","headerLink","path","onClick","signOut","name","CurrentUserContext","createContext","Card","currentUser","useContext","isOwn","cardOwner","id","placeTrashClassName","isLiked","card","likes","some","i","placeButtonClassName","type","onCardDelete","link","onCardClick","onCardLike","Main","onEditAvatarClick","avatar","onEditProfileClick","about","onAddPlaceClick","cards","map","_id","length","owner","handleCardLike","handleCardDelete","Authorization","handleAuthorization","message","clickSubmitButton","useState","email","password","formState","setFormState","handleChange","target","value","onSubmit","event","preventDefault","console","log","handleSignin","placeholder","onChange","ProtectedRoute","component","loggedIn","PopupWithForm","isOpen","onClose","title","children","buttonText","EditProfilePopup","setName","description","setDescription","e","info","onUpdateUser","minLength","maxLength","required","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","placeName","setPlaceName","placeLink","setPlaceLink","placeInfo","onAddCard","ConfirmDeletePopup","cardDelete","ImagePopup","InfoTooltip","isRegistered","setImage","setMessage","Footer","BASE_URL","checkResponse","response","ok","json","Promise","reject","status","api","baseUrl","this","_url","token","fetch","headers","authorization","then","res","_checkResponse","cardId","likeStatus","method","data","body","JSON","stringify","App","setHeaderLink","setLoggedIn","setIsRegistered","signupProps","handleRegisterClick","localStorage","getItem","history","useHistory","setUserEmail","checkToken","auth","userProfile","push","catch","error","setCurrentUser","setAvatar","prevCurrentUser","setUserInfo","getProfile","err","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isConfirmDeletePopupOpen","setIsConfirmDeletePopupOpen","isRegisteredPopupOpen","setIsRegisteredPopupOpen","selectedCard","setSelectedCard","cardForDelete","setCardForDelete","closeAllPopups","setCards","getCardList","Provider","removeItem","exact","cardLike","changeLikeCardStatus","likedCard","cardItem","cardData","handleConfirmDeleteClick","setItem","Accept","finally","changeProfile","addCard","changeAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"0OAAe,MAA0B,wC,OC4C1BA,MAxCf,SAAgBC,GAEZ,IAAMC,EAAWC,cAyBjB,OAJAC,IAAMC,WAAU,WAlBc,YAAtBH,EAASI,UACTL,EAAMM,kBAEgB,YAAtBL,EAASI,UACTL,EAAMO,eAEgB,MAAtBN,EAASI,UACTL,EAAMQ,kBAaX,CAACP,IAGA,yBAAQQ,UAAU,SAAlB,UACI,qBAAKA,UAAU,cAAcC,IAAKC,EAAaC,IAAI,oBACnD,mBAAGH,UAAU,gBAAb,SAA8BT,EAAMa,YACpC,cAAC,IAAD,CAAMC,GAAId,EAAMe,WAAWC,KACvBP,UAAU,eACVQ,QAjBI,WACc,MAAtBhB,EAASI,UACTL,EAAMkB,WAaN,SAGKlB,EAAMe,WAAWI,WCpCrBC,EAAqBjB,IAAMkB,gBC8DzBC,EA5DF,SAACtB,GAGV,IAAMuB,EAAcpB,IAAMqB,WAAWJ,GAkBrC,IAAMK,EAAQzB,EAAM0B,YAAcH,EAAYI,GAGxCC,EAAmB,uBACLH,EAAQ,uBAAyB,uBAI/CI,EAAU7B,EAAM8B,KAAKC,MAAMC,MAAK,SAAAC,GAAC,OAAIA,IAAMV,EAAYI,MAGvDO,EAAoB,wBACLL,EAAU,4BAA8B,+BAG7D,OACI,0BAASpB,UAAU,QAAnB,UACI,wBAAQA,UAAWmB,EACfO,KAAK,SAAS,aAAW,eACzBlB,QAxBZ,WACIjB,EAAMoC,aAAapC,EAAM8B,SAyBrB,qBAAKrB,UAAU,eACXC,IAAKV,EAAMqC,KACXzB,IAAKZ,EAAMmB,KACXF,QAvCZ,WACIjB,EAAMsC,YAAYtC,EAAM8B,SAuCpB,sBAAKrB,UAAU,cAAf,UACI,oBAAIA,UAAU,cAAd,SAA6BT,EAAMmB,OACnC,sBAAKV,UAAU,0BAAf,UACI,wBAAQA,UAAWyB,EACfC,KAAK,SACLlB,QAxCpB,WACIjB,EAAMuC,WAAWvC,EAAM8B,OAwCP,aAAW,gBACf,mBAAGrB,UAAU,oBAAb,SAAkCT,EAAM+B,kBCH7CS,MAjDf,SAAcxC,GAGV,IAAMuB,EAAcpB,IAAMqB,WAAWJ,GAErC,OACI,iCACI,0BAASX,UAAU,UAAnB,UACI,sBAAKA,UAAU,2BACXQ,QAASjB,EAAMyC,kBADnB,UAEI,qBAAKhC,UAAU,eACXC,IAAKa,EAAYmB,OAAQ9B,IAAI,kBACjC,qBAAKH,UAAU,oBACXC,IClBT,6RDmBSE,IAAI,0BAEZ,sBAAKH,UAAU,gBAAf,UACI,sBAAKA,UAAU,mBAAf,UACI,oBAAIA,UAAU,gBAAd,SAA+Bc,EAAYJ,OAC3C,wBAAQV,UAAU,uBACd0B,KAAK,SACL,aAAW,eACXlB,QAASjB,EAAM2C,wBAGvB,mBAAGlC,UAAU,sBAAb,SAAoCc,EAAYqB,WAEpD,wBAAQnC,UAAU,4BACd0B,KAAK,SACL,aAAW,YACXlB,QAASjB,EAAM6C,qBAGvB,yBAASpC,UAAU,SAAnB,SAEQT,EAAM8C,MAAMC,KAAI,SAAAjB,GACZ,OACI,cAAC,EAAD,CAAqBA,KAAMA,EAAMX,KAAMW,EAAKX,KAAMkB,KAAMP,EAAKO,KAAMV,GAAIG,EAAKkB,IACxEjB,MAAOD,EAAKC,MAAMkB,OAAQX,YAAatC,EAAMsC,YAAaZ,UAAWI,EAAKoB,MAC1EX,WAAYvC,EAAMmD,eAAgBf,aAAcpC,EAAMoD,kBAF/CtB,EAAKkB,c,QE6C7BK,MApFf,YAAwD,IAA/BrD,EAA8B,EAA9BA,MAAOsD,EAAuB,EAAvBA,oBAGtBrD,EAAWC,cAETiB,EAA2CnB,EAA3CmB,KAAMoC,EAAqCvD,EAArCuD,QAASvC,EAA4BhB,EAA5BgB,KAAMwC,EAAsBxD,EAAtBwD,kBAE7B,EAAkCrD,IAAMsD,SAAS,CAC7CC,MAAO,GACPC,SAAU,KAFd,mBAAOC,EAAP,KAAkBC,EAAlB,KAMMC,EAAe,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACZ5C,EAAgB4C,EAAhB5C,KAAM6C,EAAUD,EAAVC,MACdH,EAAa,2BACND,GADK,kBAEPzC,EAAO6C,MAgChB,OACI,yBAASvD,UAAU,OAAnB,SACI,uBAAMA,UAAU,yBACZwD,SAXS,SAACC,GAClBA,EAAMC,iBACoB,YAAtBlE,EAASI,SApBTuD,EAAUF,OAASE,EAAUD,UAC7BL,EAAoBM,GACpBJ,KAGAY,QAAQC,IAAI,+BAKC,WACjB,IAAKT,EAAUF,QAAUE,EAAUD,SAC/B,OAAO,EAEXL,EAAoBM,GASfU,IAKD,UAEI,oBAAI7D,UAAU,cAAd,SAA6BU,IAC7B,uBAAOgB,KAAK,OACR1B,UAAU,cACVU,KAAK,QACLoD,YAAY,QACZP,MAAOJ,EAAUF,MACjBc,SAAUV,IACd,uBACI3B,KAAK,OACL1B,UAAU,cACVU,KAAK,WACLoD,YAAY,WACZP,MAAOJ,EAAUD,SACjBa,SAAUV,IACd,wBAAQ3B,KAAK,SACTR,GAAG,QACHlB,UAAU,yCACVU,KAAK,kBACL,aAAW,SACX6C,MAAM,QALV,SAMK7C,IAEL,cAAC,IAAD,CAAML,GAAIE,EACNP,UAAU,aADd,SAEK8C,U,wBCrENkB,MARf,YAAgD,IAAvBC,EAAsB,EAAtBA,UAAc1E,EAAQ,iBAC3C,OACI,cAAC,IAAD,UACKA,EAAM2E,SAAWD,EAAY,cAAC,IAAD,CAAU5D,GAAI,eCqBzC8D,MAzBf,SAAuB5E,GACnB,OACI,yBAASS,UAAS,sBAAiBT,EAAMmB,KAAvB,YAA+BnB,EAAM6E,OAAS,gBAAkB,IAAlF,SACI,sBAAKpE,UAAU,mBAAf,UACI,wBAAQA,UAAS,kCAA6BT,EAAMmB,MAChDgB,KAAK,SACL,aAAW,OACXlB,QAASjB,EAAM8E,UACnB,uBAAMrE,UAAS,iCAA4BT,EAAMmB,MAC7CA,KAAMnB,EAAMmB,KACZ8C,SAAUjE,EAAMiE,SAFpB,UAGI,oBAAIxD,UAAU,kBAAd,SAAiCT,EAAM+E,QACtC/E,EAAMgF,SACP,wBAAQ7C,KAAK,SACTR,GAAI3B,EAAMmB,KACVV,UAAU,mBACVU,KAAK,kBACL,aAAW,SACX6C,MAAM,OALV,SAKkBhE,EAAMiF,sBC8C7BC,MA9Df,SAA0BlF,GAGtB,MAAwBG,IAAMsD,SAAS,IAAvC,mBAAOtC,EAAP,KAAagE,EAAb,KACA,EAAsChF,IAAMsD,SAAS,IAArD,mBAAO2B,EAAP,KAAoBC,EAApB,KAEM9D,EAAcpB,IAAMqB,WAAWJ,GAsBrC,OApBAjB,IAAMC,WAAU,WACZ+E,EAAQ5D,EAAYJ,MACpBkE,EAAe9D,EAAYqB,SAC5B,CAACrB,EAAavB,EAAM6E,SAkBnB,eAAC,EAAD,CAAe1D,KAAK,eAChB4D,MAAM,eACNE,WAAW,OACXJ,OAAQ7E,EAAM6E,OACdC,QAAS9E,EAAM8E,QACfb,SAbR,SAAsBqB,GAClBA,EAAEnB,iBACF,IAAMoB,EAAO,CAAEpE,KAAMA,EAAMyB,MAAOwC,GAClCpF,EAAMwF,aAAaD,IAKnB,UAMI,uBAAOpD,KAAK,OACR6B,MAAO7C,EACPQ,GAAG,eACH6C,SAzBZ,SAA0Bc,GACtBH,EAAQG,EAAEvB,OAAOC,QAyBTvD,UAAU,0CACVU,KAAK,OACLsE,UAAU,IACVC,UAAU,KACVC,UAAQ,IACZ,sBAAMlF,UAAU,sDACZkB,GAAG,uBAEP,uBAAOQ,KAAK,OACR6B,MAAOoB,EACPzD,GAAG,qBACH6C,SAjCZ,SAAiCc,GAC7BD,EAAeC,EAAEvB,OAAOC,QAiChBvD,UAAU,gDACVU,KAAK,aACLsE,UAAU,IACVC,UAAU,MACVC,UAAQ,IACZ,sBAAMlF,UAAU,4DACZkB,GAAG,iCC7BJiE,MA7Bf,SAAyB5F,GAErB,IAAM6F,EAAY1F,IAAM2F,SAOxB,OACI,eAAC,EAAD,CAAe3E,KAAK,cAChB4D,MAAM,yBACNE,WAAW,OACXJ,OAAQ7E,EAAM6E,OACdC,QAAS9E,EAAM8E,QACfb,SAXR,SAAsBqB,GAClBA,EAAEnB,iBACFnE,EAAM+F,eAAeF,EAAUG,QAAQhC,QAIvC,UAMI,uBAAO7B,KAAK,MACRoC,YAAY,cACZ5C,GAAG,cACHsE,IAAKJ,EACLpF,UAAU,gDACVU,KAAK,OACLwE,UAAQ,IACZ,sBAAMlF,UAAU,qDACZkB,GAAG,0BCuCJuE,MA/Df,SAAuBlG,GAEnB,MAAkCG,IAAMsD,SAAS,IAAjD,mBAAO0C,EAAP,KAAkBC,EAAlB,KACA,EAAkCjG,IAAMsD,SAAS,IAAjD,mBAAO4C,EAAP,KAAkBC,EAAlB,KAuBA,OArBAnG,IAAMC,WAAU,WACZgG,EAAa,IACbE,EAAa,MACd,CAACtG,EAAM6E,SAmBN,eAAC,EAAD,CAAe1D,KAAK,YAChB4D,MAAM,YACNE,WAAW,SACXJ,OAAQ7E,EAAM6E,OACdC,QAAS9E,EAAM8E,QACfb,SAdR,SAAsBqB,GAClBA,EAAEnB,iBACF,IAAMoC,EAAY,CAAEpF,KAAMgF,EAAW9D,KAAMgE,GAC3CrG,EAAMwG,UAAUD,IAMhB,UAMI,uBAAOpE,KAAK,OACRoC,YAAY,QACZ5C,GAAG,cACHqC,MAAOmC,EACP3B,SA3BZ,SAA+Bc,GAC3Bc,EAAad,EAAEvB,OAAOC,QA2BdvD,UAAU,0CACVU,KAAK,OACLsE,UAAU,IACVC,UAAU,KACVC,UAAQ,IACZ,sBACIlF,UAAU,6DACVkB,GAAG,sBAEP,uBAAOQ,KAAK,MACRoC,YAAY,aACZ5C,GAAG,aACHqC,MAAOqC,EACP7B,SArCZ,SAA+Bc,GAC3BgB,EAAahB,EAAEvB,OAAOC,QAqCdvD,UAAU,gDACVU,KAAK,OACLwE,UAAQ,IACZ,sBAAMlF,UAAU,qDACZkB,GAAG,yBCtCJ8E,MAlBf,SAA4BzG,GAOxB,OACI,cAAC,EAAD,CAAemB,KAAK,cAChB4D,MAAM,gBACNE,WAAW,MACXJ,OAAQ7E,EAAM6E,OACdC,QAAS9E,EAAM8E,QACfb,SAXR,SAAuBC,GACnBA,EAAMC,iBACNnE,EAAM0G,iBCaCC,MAlBf,SAAoB3G,GAAQ,IAAD,MAEvB,OACI,yBAASS,UAAS,4BAAuBT,EAAM8B,KAAO,gBAAkB,IAAxE,SACI,sBAAKrB,UAAU,wBAAf,UACI,wBAAQA,UAAU,gCACd0B,KAAK,SACL,aAAW,OACXlB,QAASjB,EAAM8E,UACnB,qBAAKrE,UAAU,6BACXC,IAAG,UAAEV,EAAM8B,YAAR,aAAE,EAAYO,KACjBzB,IAAG,UAAEZ,EAAM8B,YAAR,aAAE,EAAYX,OACrB,mBAAGV,UAAU,+BAAb,mBAA6CT,EAAM8B,YAAnD,aAA6C,EAAYX,aCiC1DyF,MA1Cf,SAAqB5G,GAwBjB,OACI,yBAASS,UAAS,gBAAWT,EAAM6E,OAAS,gBAAkB,IAA9D,SACI,qBAAKpE,UAAU,mBAAf,SACI,sBAAKA,UAAU,WAAf,UACI,wBAAQA,UAAU,cACd0B,KAAK,SACL,aAAW,OACXlB,QAASjB,EAAM8E,UACnB,qBAAKrE,UAAU,2BACXG,IAAI,KACJF,IAhCH,WACb,GAAIV,EAAM6G,aAAc,CAEpB,MCVG,ilDDcH,MEdG,qqDFuCcC,KACT,oBAAIrG,UAAU,6BAAd,SAtBG,WACf,GAAIT,EAAM6G,aAAc,CAEpB,MADc,yCAKd,MADc,gDAgBsCE,aG9BjDC,MARf,WACI,OACI,wBAAQvG,UAAU,SAAlB,SACI,mBAAGA,UAAU,eAAb,0CCJCwG,EAAW,qDA2DlBC,EAAgB,SAACC,GACrB,OAAIA,EAASC,GACJD,EAASE,OAGTC,QAAQC,OAAR,iBAAyBJ,EAASK,U,gBCwE9BC,EALH,I,WAnIR,cAA0B,IAAZC,EAAW,EAAXA,QAAW,oBACrBC,KAAKC,KAAOF,E,8CAIhB,SAAWG,GAAQ,IAAD,OACd,OAAOC,MAAM,GAAD,OAAIH,KAAKC,KAAT,aAA0B,CAClCG,QAAS,CACLC,cAAc,UAAD,OAAYH,MAG5BI,MAAK,SAACC,GACH,OAAO,EAAKC,eAAeD,Q,yBAKvC,SAAYL,GAAQ,IAAD,OACf,OAAOC,MAAM,GAAD,OAAIH,KAAKC,KAAT,UAAuB,CAC/BG,QAAS,CACLC,cAAc,UAAD,OAAYH,GACzB,eAAgB,sBAGnBI,MAAK,SAACC,GACH,OAAO,EAAKC,eAAeD,Q,kCAKvC,SAAqBE,EAAQC,EAAYR,GAAQ,IAAD,OAC5C,OAAIQ,EACOP,MAAM,GAAD,OAAIH,KAAKC,KAAT,wBAA6BQ,GAAU,CAC/CE,OAAQ,SACRP,QAAS,CACLC,cAAc,UAAD,OAAYH,MAG5BI,MAAK,SAACC,GACH,OAAO,EAAKC,eAAeD,MAI5BJ,MAAM,GAAD,OAAIH,KAAKC,KAAT,wBAA6BQ,GAAU,CAC/CE,OAAQ,MACRP,QAAS,CACLC,cAAc,UAAD,OAAYH,MAG5BI,MAAK,SAACC,GACH,OAAO,EAAKC,eAAeD,Q,wBAM3C,SAAWE,EAAQP,GAAQ,IAAD,OACtB,OAAOC,MAAM,GAAD,OAAIH,KAAKC,KAAT,kBAAuBQ,GAAU,CACzCE,OAAQ,SACRP,QAAS,CACLC,cAAc,UAAD,OAAYH,MAG5BI,MAAK,SAACC,GACH,OAAO,EAAKC,eAAeD,Q,2BAKvC,SAAcK,EAAMV,GAAQ,IAAD,OACvB,OAAOC,MAAM,GAAD,OAAIH,KAAKC,KAAT,aAA0B,CAClCU,OAAQ,QACRP,QAAS,CACLC,cAAc,UAAD,OAAYH,GACzB,eAAgB,oBAEpBW,KAAMC,KAAKC,UAAU,CACjBvH,KAAMoH,EAAKpH,KACXyB,MAAO2F,EAAK3F,UAGfqF,MAAK,SAACC,GACH,OAAO,EAAKC,eAAeD,Q,qBAKvC,SAAQK,EAAMV,GAAQ,IAAD,OACjB,OAAOC,MAAM,GAAD,OAAIH,KAAKC,KAAT,UAAuB,CAC/BU,OAAQ,OACRP,QAAS,CACLC,cAAc,UAAD,OAAYH,GACzB,eAAgB,oBAEpBW,KAAMC,KAAKC,UAAU,CACjBvH,KAAMoH,EAAKpH,KACXkB,KAAMkG,EAAKlG,SAGlB4F,MAAK,SAACC,GACH,OAAO,EAAKC,eAAeD,Q,0BAInC,SAAa7F,EAAMwF,GAAQ,IAAD,OACtB,OAAOC,MAAM,GAAD,OAAIH,KAAKC,KAAT,oBAAiC,CACzCU,OAAQ,QACRP,QAAS,CACLC,cAAc,UAAD,OAAYH,GACzB,eAAgB,oBAEpBW,KAAMC,KAAKC,UAAU,CACjBhG,OAAQL,MAGf4F,MAAK,SAACC,GACH,OAAO,EAAKC,eAAeD,Q,4BAKnC,SAAeA,GACX,OAAIA,EAAId,GACGc,EAAIb,OAGJC,QAAQC,OAAR,iBAAyBW,EAAIV,a,KAKpC,CAAQ,CAChBE,QAAS,uDC4NEiB,MA7Uf,WAKI,MAAoCxI,IAAMsD,SAAS,CAAEtC,KAAM,SAAUH,KAAM,YAA3E,mBAAOD,EAAP,KAAmB6H,EAAnB,KAwBA,EAAgCzI,IAAMsD,UAAS,GAA/C,mBAAOkB,EAAP,KAAiBkE,EAAjB,KAkBA,EAAwC1I,IAAMsD,UAAS,GAAvD,mBAAOoD,EAAP,KAAqBiC,EAArB,KA4BMC,EAAc,CAChB5H,KAAM,UACNH,KAAM,UACNuC,QAAS,iCACTC,kBAAmBwF,IAIjBnB,EAAQoB,aAAaC,QAAQ,SAG7BC,EAAUC,cAGhB,EAAkCjJ,IAAMsD,SAAS,IAAjD,mBAAO5C,EAAP,KAAkBwI,EAAlB,KAGMC,EAAa,WACXzB,GFrEc,SAACA,GACzB,OAAOC,MAAM,GAAD,OAAIb,EAAJ,aAAyB,CACnCqB,OAAQ,MACRP,QAAS,CACP,OAAU,mBACV,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BF,MAG5BI,MAAK,SAAAd,GACJ,OAAOD,EAAcC,MAEtBc,MAAK,SAAAM,GAAI,OAAIA,KE0DNgB,CAAgB1B,GACXI,MAAK,SAACC,GACCA,IACAmB,EAAanB,EAAIsB,YAAY9F,OAC7BmF,GAAY,GACZM,EAAQM,KAAK,SAGpBC,OAAM,SAAAC,GAAK,OAAIvF,QAAQC,IAAIsF,OAIxCxJ,IAAMC,WAAU,WACZkJ,MACD,CAACH,EAAStB,IAWb,MAAsC1H,IAAMsD,SAAS,CACjDtC,KAAM,GACNyB,MAAO,GACPF,OAAQ,GACRf,GAAI,KAJR,mBAAOJ,EAAP,KAAoBqI,EAApB,KAeMC,EAAY,SAACxH,GACfuH,GAAe,SAACE,GAAD,mBAAC,eACTA,GADQ,IAEXpH,OAAQL,QAIV0H,EAAc,SAACxB,GACjBqB,GAAe,SAACE,GAAD,mBAAC,eACTA,GADQ,IAEX3I,KAAMoH,EAAKpH,KACXyB,MAAO2F,EAAK3F,MACZjB,GAAI4G,EAAKvF,UAIjB7C,IAAMC,WAAU,WAvBZqH,EAAIuC,WAAWnC,GAAOI,MAAK,SAAAC,GACvB6B,EAAY7B,EAAIsB,aAChBK,EAAU3B,EAAIsB,YAAY9G,WAEzBgH,OAAM,SAAAO,GAAS7F,QAAQC,IAAI4F,QAqBjC,IAKH,MAA0D9J,IAAMsD,UAAS,GAAzE,mBAAOyG,EAAP,KAA8BC,EAA9B,KACA,EAA4DhK,IAAMsD,UAAS,GAA3E,mBAAO2G,EAAP,KAA+BC,GAA/B,KACA,GAAsDlK,IAAMsD,UAAS,GAArE,qBAAO6G,GAAP,MAA4BC,GAA5B,MACA,GAAgEpK,IAAMsD,UAAS,GAA/E,qBAAO+G,GAAP,MAAiCC,GAAjC,MACA,GAA0DtK,IAAMsD,UAAS,GAAzE,qBAAOiH,GAAP,MAA8BC,GAA9B,MAGA,GAAwCxK,IAAMsD,WAA9C,qBAAOmH,GAAP,MAAqBC,GAArB,MACA,GAA0C1K,IAAMsD,WAAhD,qBAAOqH,GAAP,MAAsBC,GAAtB,MAyBA,SAAS/B,KACL2B,IAAyB,GAG7B,SAASK,KACLT,IAAuB,GACvBJ,GAAyB,GACzBE,IAA0B,GAC1BI,IAA4B,GAC5BE,IAAyB,GACzBE,KAwBJ,OAA0B1K,IAAMsD,SAAS,IAAzC,qBAAOX,GAAP,MAAcmI,GAAd,MAkDA,OAvCA9K,IAAMC,WAAU,WAPZqH,EAAIyD,YAAYrD,GAAOI,MAAK,SAAAC,GACxB+C,GAAS,GAAD,mBAAKnI,IAAL,YAAeoF,EAAIpF,YAE1B4G,OAAM,SAAAO,GAAS7F,QAAQC,IAAI4F,QAMjC,CAACpC,IAuCA,8BACI,eAACzG,EAAmB+J,SAApB,CAA6BnH,MAAOzC,EAApC,UACI,cAAC,EAAD,CACIR,WAAYA,EACZR,aAjRK,WACjBqI,EAAc,CACVzH,KAAM,SACNH,KAAM,aA+QEV,gBA3QQ,WACpBsI,EAAc,CACVzH,KAAM,UACNH,KAAM,aAyQER,cArQM,WAClBoI,EAAc,CACVzH,KAAM,UACNH,KAAM,aAmQEE,QA5KhB,WACIiI,EAAQM,KAAK,WACbR,aAAamC,WAAW,SACxBvC,GAAY,GACZQ,EAAa,KAyKDxI,UAAWA,IACf,eAAC,IAAD,WACI,cAAC,EAAD,CAAgBwK,OAAK,EAACrK,KAAK,IACvB2D,SAAUA,EACVD,UAAW,cAAC,EAAD,CACPjC,kBAxHxB,WACI0H,GAAyB,IAwHLxH,mBArHxB,WACI0H,IAA0B,IAqHNxH,gBAlHxB,WACI0H,IAAuB,IAkHHjI,YA1GxB,SAAyBR,GACrB+I,GAAgB/I,IA0GIgB,MAAOA,GACPK,eAtDxB,SAAwBrB,GACpB,IAAMD,EAAUC,EAAKC,MAAMC,MAAK,SAAAsJ,GAAQ,OAAIA,IAAa/J,EAAYI,MACrE8F,EAAI8D,qBAAqBzJ,EAAKkB,IAAKnB,EAASgG,GAAOI,MAAK,SAACuD,GACrDP,GAASnI,GAAMC,KAAI,SAAC0I,GAAD,OAAcA,EAASzI,MAAQlB,EAAKkB,IAAMwI,EAAUE,SAAWD,SAEjF/B,OAAM,SAAAO,GAAS7F,QAAQC,IAAI4F,OAkDZ7G,iBA9CxB,SAA0BtB,IApE1B,SAAkCA,GAC9B2I,IAA4B,GAC5BM,GAAiBjJ,GAmEjB6J,CAAyB7J,QA+Cb,cAAC,IAAD,CAAOd,KAAK,UAAZ,SACI,cAAC,EAAD,CACIhB,MAvOL,CACfmB,KAAM,SACNH,KAAM,UACNuC,QAAS,+BAqOWD,oBA5QxB,SAAqBM,IF9BA,SAAC,GAAyB,IAAvBF,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SACjC,OAAOmE,MAAM,GAAD,OAAIb,EAAJ,WAAuB,CACjCqB,OAAQ,OACRP,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBS,KAAMC,KAAKC,UAAU,CAAEhF,QAAOC,eAE7BsE,MAAK,SAAAd,GACJ,OAAOD,EAAcC,MAEtBc,MAAK,SAACM,GAEL,GADAnE,QAAQC,IAAIkE,GACRA,EAAKV,MAEP,OADAoB,aAAa2C,QAAQ,QAASrD,EAAKV,OAC5BU,KAGVmB,OAAM,SAAAC,GAAK,OAAIvF,QAAQC,IAAIsF,OEYxBJ,CAAe3F,GACVqE,MAAK,SAACM,GACEA,GAGDA,EAAKV,QACLgB,GAAY,GACZM,EAAQM,KAAK,SAGpBC,OAAM,SAAAC,GAAK,OAAIvF,QAAQC,IAAIsF,WAmQpB,cAAC,IAAD,CAAO3I,KAAK,UAAZ,SACI,cAAC,EAAD,CACIhB,MAAO+I,EACPzF,oBA/PxB,SAA4BM,IFjER,SAAC,GAAyB,IAAvBF,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SAChC,OAAOmE,MAAM,GAAD,OAAIb,EAAJ,WAAuB,CACjCqB,OAAQ,OACRP,QAAS,CACP8D,OAAQ,mBACR,eAAgB,oBAElBrD,KAAMC,KAAKC,UAAU,CAAEhF,QAAOC,eAE7BsE,MAAK,SAACd,GACL,OAAOD,EAAcC,MAEtBc,MAAK,SAACC,GACL,OAAOA,MEqDLqB,CAAc3F,GACTqE,MAAK,SAACC,GACCA,IACA9D,QAAQC,IAAI6D,GACZY,GAAgB,OAGvBY,OAAM,SAAAC,GACHvF,QAAQC,IAAIsF,GACZb,GAAgB,MAEnBgD,SAAQ,WACL9C,gBAqPA,cAAC,EAAD,IACA,cAAC,EAAD,CAAkBnE,OAAQuF,EACtBtF,QAASkG,GACTxF,aA3GhB,SAA0B+C,GACtBd,EAAIsE,cAAcxD,EAAMV,GAAOI,MAAK,SAAAC,GAChC6B,EAAYxB,GACZyC,QAECtB,OAAM,SAAAO,GAAS7F,QAAQC,IAAI4F,SAuGxB,cAAC,EAAD,CAAiBpF,OAAQqF,EACrBpF,QAASkG,KACb,cAAC,EAAD,CAAenG,OAAQyF,GACnBxF,QAASkG,GACTxE,UAnDhB,SAAwBkF,GACpBjE,EAAIuE,QAAQN,EAAU7D,GAAOI,MAAK,SAAAC,GAC9B+C,GAAS,CAAC/C,EAAIK,MAAN,mBAAezF,MACvBkI,QAECtB,OAAM,SAAAO,GAAS7F,QAAQC,IAAI4F,SA+CxB,cAAC,EAAD,CAAiBpF,OAAQqF,EACrBpF,QAASkG,GACTjF,eA1GhB,SAA4B1D,GACxBoF,EAAIwE,aAAa5J,EAAMwF,GAAOI,MAAK,SAAAC,GAC/B2B,EAAU3B,GACV8C,QAECtB,OAAM,SAAAO,GAAS7F,QAAQC,IAAI4F,SAsGxB,cAAC,EAAD,CAAYnI,KAAM8I,GACd9F,QAASkG,KACb,cAAC,EAAD,CAAoBnG,OAAQ2F,GACxB1F,QAASkG,GACTtE,WAtEhB,WACItC,QAAQC,IAAIyG,IACZrD,EAAIyE,WAAWpB,GAAc9H,IAAK6E,GAAOI,MAAK,SAAAC,GAC1C+C,GAASnI,GAAMqJ,QAAO,SAACV,GAAD,OAAcA,EAASzI,MAAQ8H,GAAc9H,QACnE+H,KACAC,QAECtB,OAAM,SAAAO,GAAS7F,QAAQC,IAAI4F,SAgExB,cAAC,EAAD,CAAapF,OAAQ6F,GACjB7D,aAAcA,EACd/B,QAASkG,WC/UdoB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBrE,MAAK,YAAkD,IAA/CsE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAYC,SAAS,IAArB,SACA,cAAC,EAAD,QAGFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.720cbc35.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/aroundtheus.c7581985.svg\";","import React from 'react';\r\nimport aroundTheUs from \"../images/aroundtheus.svg\";\r\nimport { Link, useLocation } from 'react-router-dom';\r\n\r\nfunction Header(props) {\r\n\r\n    const location = useLocation();\r\n\r\n    const setHeaderLink = () => {\r\n        if (location.pathname === '/signin') {\r\n            props.setRegisterPath();\r\n        }\r\n        if (location.pathname === '/signup') {\r\n            props.setLoginPath();\r\n        }\r\n        if (location.pathname === '/') {\r\n            props.setLogoutPath();\r\n        }\r\n    }\r\n\r\n    const signOut = () => {\r\n        if (location.pathname === '/') {\r\n            props.signOut();\r\n        }\r\n        else return;\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setHeaderLink();\r\n    }, [location]);\r\n\r\n    return (\r\n        <header className=\"header\">\r\n            <img className=\"header__img\" src={aroundTheUs} alt=\"Around the U.S.\" />\r\n            <p className=\"header__email\">{props.userEmail}</p>\r\n            <Link to={props.headerLink.path}\r\n                className=\"header__link\"\r\n                onClick={signOut}>\r\n                {props.headerLink.name}\r\n            </Link>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nconst Card = (props) => {\r\n\r\n    // User info imported by context\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    // click on the card to open the ImagePopup\r\n    function handleClick() {\r\n        props.onCardClick(props.card);\r\n    }\r\n\r\n    // click on heart to add or subtract like\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    // delete a card\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.card);\r\n    }\r\n\r\n    // Checking if the current user is the owner of the current card\r\n    const isOwn = props.cardOwner === currentUser.id;\r\n\r\n    // Creating a variable which you'll then set in `className` for the delete button\r\n    const placeTrashClassName = (\r\n        `place__trash ${isOwn ? 'place__trash_visible' : 'place__trash_hidden'}`\r\n    );\r\n\r\n    // check if the user has liked a card\r\n    const isLiked = props.card.likes.some(i => i === currentUser.id);\r\n\r\n    // create a variable to set classname for like button\r\n    const placeButtonClassName = (\r\n        `place__button ${isLiked ? 'place__button_type_filled' : 'place__button_type_unfilled'}`\r\n    );\r\n\r\n    return (\r\n        <article className=\"place\">\r\n            <button className={placeTrashClassName}\r\n                type=\"button\" aria-label=\"trash-button\"\r\n                onClick={handleDeleteClick}>\r\n            </button>\r\n            <img className=\"place__image\"\r\n                src={props.link}\r\n                alt={props.name}\r\n                onClick={handleClick} />\r\n            <div className=\"place__info\">\r\n                <h2 className=\"place__name\">{props.name}</h2>\r\n                <div className=\"place__info_like-column\">\r\n                    <button className={placeButtonClassName}\r\n                        type=\"button\"\r\n                        onClick={handleLikeClick}\r\n                        aria-label=\"like-button\"></button>\r\n                    <p className=\"place__like-count\">{props.likes}</p>\r\n                </div>\r\n            </div>\r\n        </article>\r\n    )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport editAvatarButton from '../images/edit-avatar-button.png';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n\r\n    // User info imported by context\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main>\r\n            <section className=\"profile\">\r\n                <div className=\"profile__image-container\"\r\n                    onClick={props.onEditAvatarClick}>\r\n                    <img className=\"profile__pic\"\r\n                        src={currentUser.avatar} alt=\"profile-image\" />\r\n                    <img className=\"profile__pic-edit\"\r\n                        src={editAvatarButton}\r\n                        alt=\"edit-avatar-button\" />\r\n                </div>\r\n                <div className=\"profile__text\">\r\n                    <div className=\"profile__top-row\">\r\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                        <button className=\"profile__edit-button\"\r\n                            type=\"button\"\r\n                            aria-label=\"edit-profile\"\r\n                            onClick={props.onEditProfileClick}>\r\n                        </button>\r\n                    </div>\r\n                    <p className=\"profile__descriptor\">{currentUser.about}</p>\r\n                </div>\r\n                <button className=\"profile__add-place-button\"\r\n                    type=\"button\"\r\n                    aria-label=\"add-place\"\r\n                    onClick={props.onAddPlaceClick}>\r\n                </button>\r\n            </section>\r\n            <section className=\"places\">\r\n                {\r\n                    props.cards.map(card => {\r\n                        return (\r\n                            <Card key={card._id} card={card} name={card.name} link={card.link} id={card._id}\r\n                                likes={card.likes.length} onCardClick={props.onCardClick} cardOwner={card.owner}\r\n                                onCardLike={props.handleCardLike} onCardDelete={props.handleCardDelete} />\r\n                        )\r\n                    }\r\n                    )\r\n                }\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaBAMAAABbZFH9AAAAIVBMVEUAAAD////////////////////////////////////////PIev5AAAACnRSTlMAIN+Av5BA73Bgx8dFNwAAAEZJREFUGNNjQABGRwYkILRIAElKa5UiktSqVUuQpUByCKlFAkNVihMsBQdWSFLMAsxIUkyKDI0IdVnImhiilhsg8VwTkDgAn/AnIS+N68cAAAAASUVORK5CYII=\"","import React from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\n\r\nfunction Authorization({ props, handleAuthorization }) {\r\n\r\n    // constants and state variables________________________________________________\r\n    const location = useLocation();\r\n\r\n    const { name, message, path, clickSubmitButton } = props;\r\n\r\n    const [formState, setFormState] = React.useState({\r\n        email: '',\r\n        password: ''\r\n    });\r\n\r\n    // changes email and password based on user input in input fields\r\n    const handleChange = ({ target }) => {\r\n        const { name, value } = target;\r\n        setFormState({\r\n            ...formState,\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    // function for handling a new registration\r\n    const handleRegister = () => {\r\n        if (formState.email && formState.password) {\r\n            handleAuthorization(formState);\r\n            clickSubmitButton();\r\n        }\r\n        else (\r\n            console.log(\"Email and password required\")\r\n        )\r\n    }\r\n\r\n    // function for handling a login\r\n    const handleSignin = () => {\r\n        if (!formState.email || !formState.password) {\r\n            return false;\r\n        }\r\n        handleAuthorization(formState);\r\n    }\r\n\r\n    // catch all for determining whether to register or login based on the submit button\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        if (location.pathname === '/signup') {\r\n            handleRegister();\r\n        }\r\n        else handleSignin();\r\n    }\r\n\r\n    return (\r\n        <section className=\"auth\">\r\n            <form className=\"edit-box edit-box_auth\"\r\n                onSubmit={handleSubmit}>\r\n                <h2 className=\"auth__title\">{name}</h2>\r\n                <input type=\"text\"\r\n                    className=\"auth__input\"\r\n                    name='email'\r\n                    placeholder=\"Email\"\r\n                    value={formState.email}\r\n                    onChange={handleChange}></input>\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"auth__input\"\r\n                    name='password'\r\n                    placeholder=\"Password\"\r\n                    value={formState.password}\r\n                    onChange={handleChange}></input>\r\n                <button type=\"submit\"\r\n                    id=\"login\"\r\n                    className=\"edit-box__submit edit-box__submit_auth\"\r\n                    name=\"edit-box-submit\"\r\n                    aria-label=\"submit\"\r\n                    value=\"Login\">\r\n                    {name}\r\n                </button>\r\n                <Link to={path}\r\n                    className=\"auth__text\">\r\n                    {message}\r\n                </Link>\r\n            </form>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Authorization","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nfunction ProtectedRoute({component, ...props}) {\r\n    return (\r\n        <Route>\r\n            {props.loggedIn ? component : <Redirect to={\"/signup\"} />}\r\n        </Route>\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n    return (\r\n        <section className={`popup popup_${props.name} ${props.isOpen ? 'popup_visible' : ''}`}>\r\n            <div className=\"popup__container\">\r\n                <button className={`popup__exit popup__exit_${props.name}`}\r\n                    type=\"button\"\r\n                    aria-label=\"exit\"\r\n                    onClick={props.onClose}></button>\r\n                <form className={`edit-box edit-box_type_${props.name}`}\r\n                    name={props.name}\r\n                    onSubmit={props.onSubmit}>\r\n                    <h3 className=\"edit-box__title\">{props.title}</h3>\r\n                    {props.children}\r\n                    <button type=\"submit\"\r\n                        id={props.name}\r\n                        className=\"edit-box__submit\"\r\n                        name=\"edit-box-submit\"\r\n                        aria-label=\"submit\"\r\n                        value=\"Save\">{props.buttonText}</button>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    // state variables for inputs\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser, props.isOpen])\r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleDescriptionChange(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        const info = { name: name, about: description }\r\n        props.onUpdateUser(info);\r\n    }\r\n\r\n\r\n    return (\r\n        <PopupWithForm name=\"edit-profile\"\r\n            title=\"Edit Profile\"\r\n            buttonText=\"Save\"\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}>\r\n            <input type=\"text\"\r\n                value={name}\r\n                id=\"profile-name\"\r\n                onChange={handleNameChange}\r\n                className=\"edit-box__text edit-box__text_type_name\"\r\n                name=\"name\"\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                required />\r\n            <span className=\"edit-box__text-error edit-box__text-error_type_name\"\r\n                id=\"profile-name-error\">\r\n            </span>\r\n            <input type=\"text\"\r\n                value={description}\r\n                id=\"profile-descriptor\"\r\n                onChange={handleDescriptionChange}\r\n                className=\"edit-box__text edit-box__text_type_descriptor\"\r\n                name=\"descriptor\"\r\n                minLength=\"2\"\r\n                maxLength=\"200\"\r\n                required />\r\n            <span className=\"edit-box__text-error edit-box__text-error_type_descriptor\"\r\n                id=\"profile-descriptor-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    const avatarRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n        props.onUpdateAvatar(avatarRef.current.value)\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"edit-avatar\"\r\n            title=\"Change Profile Picture\"\r\n            buttonText=\"Save\"\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}>\r\n            <input type=\"url\"\r\n                placeholder=\"Avatar link\"\r\n                id=\"avatar-link\"\r\n                ref={avatarRef}\r\n                className=\"edit-box__text edit-box__text_type_descriptor\"\r\n                name=\"link\"\r\n                required />\r\n            <span className=\"edit-box__text-error edit-box__text-error_type_url\"\r\n                id=\"avatar-link-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n    const [placeName, setPlaceName] = React.useState('');\r\n    const [placeLink, setPlaceLink] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        setPlaceName('');\r\n        setPlaceLink('');\r\n    }, [props.isOpen])\r\n\r\n    function handlePlaceNameChange(e) {\r\n        setPlaceName(e.target.value);\r\n    }\r\n\r\n    function handlePlaceLinkChange(e) {\r\n        setPlaceLink(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        const placeInfo = { name: placeName, link: placeLink }\r\n        props.onAddCard(placeInfo);\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <PopupWithForm name=\"add-place\"\r\n            title=\"New Place\"\r\n            buttonText=\"Create\"\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}>\r\n            <input type=\"text\"\r\n                placeholder=\"Title\"\r\n                id=\"place-title\"\r\n                value={placeName}\r\n                onChange={handlePlaceNameChange}\r\n                className=\"edit-box__text edit-box__text_type_name\"\r\n                name=\"name\"\r\n                minLength=\"1\"\r\n                maxLength=\"30\"\r\n                required />\r\n            <span\r\n                className=\"edit-box__text-error edit-box__text-error_type_place-title\"\r\n                id=\"place-title-error\">\r\n            </span>\r\n            <input type=\"url\"\r\n                placeholder=\"Image link\"\r\n                id=\"image-link\"\r\n                value={placeLink}\r\n                onChange={handlePlaceLinkChange}\r\n                className=\"edit-box__text edit-box__text_type_descriptor\"\r\n                name=\"link\"\r\n                required />\r\n            <span className=\"edit-box__text-error edit-box__text-error_type_url\"\r\n                id=\"image-link-error\">\r\n\r\n            </span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction ConfirmDeletePopup(props) {\r\n\r\n    function submitHandler(event) {\r\n        event.preventDefault();\r\n        props.cardDelete();\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"card-delete\"\r\n            title=\"Are you sure?\"\r\n            buttonText=\"Yes\"\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={submitHandler}>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default ConfirmDeletePopup;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n\r\n    return (\r\n        <section className={`popup popup_image ${props.card ? 'popup_visible' : ''}`}>\r\n            <div className=\"popup-image-container\">\r\n                <button className=\"popup__exit popup__exit_image\"\r\n                    type=\"button\"\r\n                    aria-label=\"exit\"\r\n                    onClick={props.onClose}></button>\r\n                <img className=\"popup-image-container__pic\"\r\n                    src={props.card?.link}\r\n                    alt={props.card?.name} />\r\n                <p className=\"popup-image-container__title\">{props.card?.name}</p>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\nimport confirmedRegister from '../images/confirmed-register.png';\r\nimport deniedRegister from '../images/denied-register.png';\r\n\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n    const setImage = () => {\r\n        if (props.isRegistered) {\r\n            let image = confirmedRegister\r\n            return image;\r\n        }\r\n        else {\r\n            let image = deniedRegister;\r\n            return image;\r\n        }\r\n    }\r\n\r\n    const setMessage = () => {\r\n        if (props.isRegistered) {\r\n            let message = 'Success! You have now been registered.';\r\n            return message;\r\n        }\r\n        else {\r\n            let message = 'Oops, something went wrong! Please try again.';\r\n            return message;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <section className={`popup ${props.isOpen ? 'popup_visible' : ''}`}>\r\n            <div className='popup__container'>\r\n                <div className='edit-box'>\r\n                    <button className='popup__exit'\r\n                        type=\"button\"\r\n                        aria-label=\"exit\"\r\n                        onClick={props.onClose}></button>\r\n                    <img className='edit-box__register-image'\r\n                        alt='NA'\r\n                        src={setImage()} />\r\n                    <h3 className=\"edit-box__register-message\">{setMessage()}</h3>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default InfoTooltip;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAANlBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC3dmhyAAAAEXRSTlMAIN/vYBCAQL9wMJ/PkK+gUEytRtEAAAQQSURBVGje1ZvZduowDEUteZ4C/P/PXoy5VYtJ4zGLnleSbHQsy/EQ1iypRfQGkd+SMJhNWS3ZWmm74e2tcLOarZG0ht9+Fd8ELKB+PT54JTRAdhecFmqjv2SmsrV/Phj93nOduOCT7fUsrHkGYw+CAfG8MogZWHxSqxIXRMjWiCnR8tjgnrtk9IjhkLFKNt4WHy556OVaTthGtMr/eCBcLzvNehiO0BluGGgowBS0bS0YMf1hxYb08Du2/duQfHJsUICNdrt0Q5QTKm1sIl9T81o2RTY19LXuWpGuHbG5dE9UcUt3xhta9HLXk6/EnUu+HlzDiTuXzN3BFd3coecu4JKTYb8wpO7u2BK536qnnVE3mh5OdsSJqNJODrsNLNkyyfvzzd4gBmyhHJn9arRiS6Xemu3vRrPFCm/M1muNJoguM8uz5boUIQsKeKUkfw0ZKbOWSr1kkuir0eMhh3U1qwzZDKf0eMieUnq54jcWNI2G432ZS0qtwE6ToYptKl4Cpw7MhpwGdprkHSf/O23YeSKvt6lOO1XtNZ/ptOP7tZc6EX/mN07jCl4xn8dcQ+zE6iFuD6nDwdFSE8/jEnn/si0H7mYNAF+yB42Mj27Fp3NxP5RnOsuUW2Y6Fw5f+nTKre00LmWXSDeo07h0caSkPoNLae2ZSX6Pyjdxc14F6k0zuIG4B/0Jhyu1/M6VrBZ8v7rq6fu/hEZurh2VYAiignup47IErQTj3os3fOcyNhus9vIVsODOBAsq/ftcxZrAuWAX2nm8h0EugWu6kymGnTEu9eOKgIkwwqVlmEAl82Arp6hNrotLJTMNUTV7QSQUDy7v4tK7T6T7qu2O8gdXdIxlKtF95fSShHaEm4Zim/wOdf7g+/35dm7Oq/qXPTDvuK6dm2tHy7ioBrnUm7DhhZ5yrKgnHUldTGGaujRC7wuLbZ+0WT7ApUlbxzQVsJtL01SaobdIEbe3iWmG3qQrdnJprYdWQ5oEJnRxaa2HvG6U7ILSWg95fZpCdpoWNk+Sy05nXdavGpcLtrSwuViUWvpHhit2iiKNwieFTGVPfMJmyFkhQ/mmZNbvDtA+Yrn7tljwDmKW7g/QPuLnbOMyu3ovBvbmHGb9Vj1+1uGEE45jfNoBFCZDYcfEGo3yAw8ZMbfuWBV85kGyl6Nzf/rQHnGryG7enl/ifvaBUMZg7hFY13Nad/wUauMsa84x5x7jLB8MWoeOg9008/cwskNioM8q/vAbOrCKU7j9J/AjNGMp3LHvQrxruCVmrGZjEhkdBLR8JYSEHUCHyi+KIFMp2mHpyy0LvXA7UOExX8P9DCw9lz60MpsS2kG2FkAL5UNq1uIroWns7ejTsh3qX/2Yjj4ftGozAXOQiMZHodsj/QcvIWFxIhkcawAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAARVBMVEUAAAD9Bgb7CAj9Bwf6BQX8Bgb9Bgb9Bgb+Bwf/EBD6Bgb9Bgb7CAj7BAT+Bgb9Bgb/AAD8Bgb8Bgb6CQn9Bwf/Bwf9Bwdfpk7LAAAAFnRSTlMA7yDfMICfYL8QcJBAQM+vEKBQcHBvZQGlFwAABDxJREFUaN7Vm9t62yAQhDkI0BE5Tqr3f9Qa43a+xnEWxpDPnStfSPzeYQEhVqpa0xYWP1qrjyQbx93N26T6apt3e3wpu8+b6qNpHvXxrfQeTAfq3+ajd2E1JrtrhjW4HX9pbMre/K1h6x+1O4Q3e2P7rRV2vAUzC8GYcLsyhhZYe6OKiZvZMVsTmkSrl1UVa3jL6GcMNxnrpsrblqtLnk6zXxrYSrTL//iJcP1EmnU13Boy3LgqWsamoD9qJ4wl/WGnntLV76Xu38bk08ASEXSl3UO6YWmw4pyWKvI5de+smug9dfRZFSmkawWbK90LRVzBHaqjA8vtTz6D25Z8Fq7R4LYkS1ljLM99qt0OXDgZH08MabgPqouG72bPX2XzBj+TfDy2Y1HtBTu1edjBHXcEp0v746NFzKiOGmD2Z6Od6ir3pdn+YrTqrPiF2WtfowHZ7jPLq+56uws5IOCeOunPIVtkVle5T5kUhDm6W8iRmLPokMfalJ7ah+xLUtqVPACeC6ZssExeDUWPZLI/XMFY1hNSKxZwZbIv2faMxzHjZ5C5mSxxZfJ8SS84bUSuSM5cmXy6XDL9cXoUn5hAFrggi17vstODQAYXYNlrDafLyCwXg0jn/Mb0WUhmuVgYthy5VwSZ4GJxnNHFBJni5mzec+CDIsg0V5lr555yVxNkkpvTeVIrRjFBprgqpuyak+EUmeAiu4JyuIEgU9zEXJDUBLmai7T2akx+s2SOm/MqptFEkiFwi8eTxUxNkMGtBl/uUoog89w8dwBMkEmuSlCAebJTLJggH9CifhDsD0gPFDhN2CQXZAKM4URxQe46jsElyciQiCmT4BJkTJlpiWK5XleT8eyzpHHIcZ0aOHJaihPds1zFkdNSPCe/I8slyTmv0oRNcllynjswnghuJRmjyeKBnuASZCR13sIQXIaMhmZs2gguQcamDdtUgkuQsU3FDr2CS5LRxdih89x7shFHccDbEPngD1yB7CSnU9eWeu2EVkEWuHjXU+i1k1vNZFewVQx3LzYlspOePWXucHUa28albC1TAlnk4oUtXmyKZNfgzbL59zxkRDSdtWAVLg252UFyeIXDkJ8K2dyXKYx9Drzkc0ScvvGqTGmEHFU34RzxdY5x1XuvygQY/SC0se9R/ZRKAV6rOAEVE42FWo9XK0BRp/jAjjbFPq9YZKSGfmVV5jULye5L5/7foj1wi8jtyiM1uEUFoR/t5g19LnanVQnstMA9slqXr0KNdc20KXNmjHvXTwa9xdS9MzcM+Ar8yae7R8NZlbd/hsA6jXD5CvzFEFiES2m1+TXtUNG3S8au6jmFjI7B1HwlZIHlFWLhF0UmUVtEC8Pfjizrw/AAGrzN12jfAot28aHVuLuwDSZba8wWnI+pW6WvhHj2Ln1aJlJ5z7/7mG5VfTWts9vHaHOQ1o5+CWt9pL8BKj+VgJVzJVsAAAAASUVORK5CYII=\"","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__text\">&copy; 2021 Around The U.S.</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","//   Routes code\r\nexport const BASE_URL = 'https://api.boydaround.students.nomoreparties.site';\r\n\r\n// auth.js\r\n\r\nexport const register = ({ email, password }) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n    .then((response) => {\r\n      return checkResponse(response);\r\n    })\r\n    .then((res) => {\r\n      return res;\r\n    })\r\n};\r\n\r\nexport const authorize = ({ email, password }) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n    .then(response => {\r\n      return checkResponse(response)\r\n    })\r\n    .then((data) => {\r\n      console.log(data);\r\n      if (data.token) {\r\n        localStorage.setItem('token', data.token);\r\n        return data;\r\n      }\r\n    })\r\n    .catch(error => console.log(error))\r\n};\r\n\r\nexport const checkToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n    .then(response => {\r\n      return checkResponse(response)\r\n    })\r\n    .then(data => data)\r\n}\r\n\r\n// Check if response is valid\r\nconst checkResponse = (response) => {\r\n  if (response.ok) {\r\n    return response.json()\r\n  }\r\n  else {\r\n    return Promise.reject(`Error: ${response.status}`)\r\n  }\r\n}","class Api {\r\n    constructor({ baseUrl }) {\r\n        this._url = baseUrl;\r\n    }\r\n\r\n    // retrieve the profile info saved in the server\r\n    getProfile(token) {\r\n        return fetch(`${this._url}/users/me`, {\r\n            headers: {\r\n                authorization: `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                return this._checkResponse(res)\r\n            });\r\n    }\r\n\r\n    // gather cards from server\r\n    getCardList(token) {\r\n        return fetch(`${this._url}/cards`, {\r\n            headers: {\r\n                authorization: `Bearer ${token}`,\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n            .then((res) => {\r\n                return this._checkResponse(res)\r\n            });\r\n    }\r\n\r\n    // change likes\r\n    changeLikeCardStatus(cardId, likeStatus, token) {\r\n        if (likeStatus) {\r\n            return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n                method: \"DELETE\",\r\n                headers: {\r\n                    authorization: `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    return this._checkResponse(res)\r\n                });\r\n        }\r\n        else {\r\n            return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    authorization: `Bearer ${token}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    return this._checkResponse(res)\r\n                });\r\n        }\r\n    }\r\n\r\n    // delete card from server\r\n    deleteCard(cardId, token) {\r\n        return fetch(`${this._url}/cards/${cardId}`, {\r\n            method: \"DELETE\",\r\n            headers: {\r\n                authorization: `Bearer ${token}`\r\n            }\r\n        })\r\n            .then((res) => {\r\n                return this._checkResponse(res)\r\n            });\r\n    }\r\n\r\n    // update profile info on server based on user changes\r\n    changeProfile(data, token) {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                authorization: `Bearer ${token}`,\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                about: data.about\r\n            })\r\n        })\r\n            .then((res) => {\r\n                return this._checkResponse(res)\r\n            });\r\n    }\r\n\r\n    // add card to server\r\n    addCard(data, token) {\r\n        return fetch(`${this._url}/cards`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                authorization: `Bearer ${token}`,\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                link: data.link\r\n            })\r\n        })\r\n        .then((res) => {\r\n            return this._checkResponse(res)\r\n        });\r\n    }\r\n\r\n    changeAvatar(link, token) {\r\n        return fetch(`${this._url}/users/me/avatar`, {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                authorization: `Bearer ${token}`,\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                avatar: link\r\n            })\r\n        })\r\n        .then((res) => {\r\n            return this._checkResponse(res)\r\n        });\r\n    }\r\n\r\n    // Check if response is valid\r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n            return res.json()\r\n        }\r\n        else {\r\n            return Promise.reject(`Error: ${res.status}`)\r\n        }\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: \"https://api.boydaround.students.nomoreparties.site\",\r\n    // auth: \"aa7e78f0-aba7-4938-a0ab-42cab952d914\"\r\n})\r\n\r\nexport default api;","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Authorization from './Authorization';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ConfirmDeletePopup from './ConfirmDeletePopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport Footer from './Footer';\r\nimport * as auth from '../utils/auth';\r\nimport api from '../utils/api';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport '../index.css';\r\n\r\n\r\nfunction App() {\r\n\r\n    // LOGIN AND AUTHORIZATION______________________________________________________________________AUTHORIZATION\r\n\r\n    // state variable for determining whether on login or signup page\r\n    const [headerLink, setHeaderLink] = React.useState({ name: 'Log in', path: '/signin' });\r\n\r\n    const setLoginPath = () => {\r\n        setHeaderLink({\r\n            name: 'Log in',\r\n            path: '/signin'\r\n        })\r\n    }\r\n\r\n    const setRegisterPath = () => {\r\n        setHeaderLink({\r\n            name: 'Sign up',\r\n            path: '/signup'\r\n        })\r\n    }\r\n\r\n    const setLogoutPath = () => {\r\n        setHeaderLink({\r\n            name: 'Log out',\r\n            path: '/signin'\r\n        })\r\n    }\r\n\r\n    // state variable for determining whether logged in or not\r\n    const [loggedIn, setLoggedIn] = React.useState(false);\r\n\r\n    // function for setting login\r\n    function handleLogin(formState) {\r\n        auth.authorize(formState)\r\n            .then((data) => {\r\n                if (!data) {\r\n                    return;\r\n                }\r\n                if (data.token) {\r\n                    setLoggedIn(true);\r\n                    history.push('/');\r\n                }\r\n            })\r\n            .catch(error => console.log(error))\r\n    }\r\n\r\n    // State Variable for Registration\r\n    const [isRegistered, setIsRegistered] = React.useState(false);\r\n\r\n    // function for setting registration\r\n    function handleRegistration(formState) {\r\n        auth.register(formState)\r\n            .then((res) => {\r\n                if (res) {\r\n                    console.log(res);\r\n                    setIsRegistered(true);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                setIsRegistered(false);\r\n            })\r\n            .finally(() => {\r\n                handleRegisterClick();\r\n            })\r\n    }\r\n\r\n    // props Object for Login\r\n    const loginProps = {\r\n        name: \"Log in\",\r\n        path: \"/signup\",\r\n        message: \"Not a member? Sign up here!\",\r\n    }\r\n\r\n    // props Object for Signup\r\n    const signupProps = {\r\n        name: \"Sign up\",\r\n        path: \"/signin\",\r\n        message: \"Already a member? Log in here!\",\r\n        clickSubmitButton: handleRegisterClick\r\n    }\r\n\r\n    // variable for token\r\n    const token = localStorage.getItem('token');\r\n\r\n    // variable for history hook from react router\r\n    const history = useHistory();\r\n\r\n    // state variable for userEmail\r\n    const [userEmail, setUserEmail] = React.useState('');\r\n\r\n    // function for checking token\r\n    const checkToken = () => {\r\n        if (token) {\r\n            auth.checkToken(token)\r\n                .then((res) => {\r\n                    if (res) {\r\n                        setUserEmail(res.userProfile.email);\r\n                        setLoggedIn(true);\r\n                        history.push('/');\r\n                    }\r\n                })\r\n                .catch(error => console.log(error))\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        checkToken();\r\n    }, [history, token]);\r\n\r\n    //   function for signing out\r\n    function signOut() {\r\n        history.push('/signin');\r\n        localStorage.removeItem('token');\r\n        setLoggedIn(false);\r\n        setUserEmail('');\r\n    }\r\n\r\n    // Retrieve User info in object_______________________________________________________________USERINFO_______________\r\n    const [currentUser, setCurrentUser] = React.useState({\r\n        name: '',\r\n        about: '',\r\n        avatar: '',\r\n        id: ''\r\n    });\r\n\r\n    const retrieveUserInfo = () => {\r\n        api.getProfile(token).then(res => {\r\n            setUserInfo(res.userProfile);\r\n            setAvatar(res.userProfile.avatar);\r\n        })\r\n            .catch(err => { console.log(err) })\r\n    }\r\n\r\n    const setAvatar = (link) => {\r\n        setCurrentUser((prevCurrentUser) => ({\r\n            ...prevCurrentUser,\r\n            avatar: link\r\n        }));\r\n    }\r\n\r\n    const setUserInfo = (data) => {\r\n        setCurrentUser((prevCurrentUser) => ({\r\n            ...prevCurrentUser,\r\n            name: data.name,\r\n            about: data.about,\r\n            id: data._id,\r\n        }));\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        retrieveUserInfo();\r\n    }, []);\r\n\r\n    // POPUPS_________________________________________________________________________________________POPUPS\r\n\r\n    // State Variables for Popups\r\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n    const [isConfirmDeletePopupOpen, setIsConfirmDeletePopupOpen] = React.useState(false);\r\n    const [isRegisteredPopupOpen, setIsRegisteredPopupOpen] = React.useState(false);\r\n\r\n    // State variables for cards\r\n    const [selectedCard, setSelectedCard] = React.useState();\r\n    const [cardForDelete, setCardForDelete] = React.useState();\r\n\r\n\r\n    // Popup functions for opening and closing\r\n    function handleEditAvatarClick() {\r\n        setIsEditAvatarPopupOpen(true);\r\n    }\r\n\r\n    function handleEditProfileClick() {\r\n        setIsEditProfilePopupOpen(true);\r\n    }\r\n\r\n    function handleAddPlaceClick() {\r\n        setIsAddPlacePopupOpen(true);\r\n    }\r\n\r\n    function handleConfirmDeleteClick(card) {\r\n        setIsConfirmDeletePopupOpen(true);\r\n        setCardForDelete(card);\r\n    }\r\n\r\n    function handleCardClick(card) {\r\n        setSelectedCard(card);\r\n    }\r\n\r\n    function handleRegisterClick() {\r\n        setIsRegisteredPopupOpen(true);\r\n    }\r\n\r\n    function closeAllPopups() {\r\n        setIsAddPlacePopupOpen(false);\r\n        setIsEditAvatarPopupOpen(false);\r\n        setIsEditProfilePopupOpen(false);\r\n        setIsConfirmDeletePopupOpen(false);\r\n        setIsRegisteredPopupOpen(false);\r\n        setSelectedCard();\r\n    }\r\n\r\n    // function for changing user info in the API based on inputs\r\n    function handleUpdateUser(data) {\r\n        api.changeProfile(data, token).then(res => {\r\n            setUserInfo(data);\r\n            closeAllPopups();\r\n        })\r\n            .catch(err => { console.log(err) })\r\n    }\r\n\r\n    // change avatar in the server\r\n    function handleUpdateAvatar(link) {\r\n        api.changeAvatar(link, token).then(res => {\r\n            setAvatar(res);\r\n            closeAllPopups();\r\n        })\r\n            .catch(err => { console.log(err) })\r\n    }\r\n\r\n    // CARDS____________________________________________________________________________________________CARDS_________\r\n\r\n    // Cards state variable\r\n    const [cards, setCards] = React.useState([]);\r\n\r\n    // function that fetches cards\r\n    function addCards() {\r\n        api.getCardList(token).then(res => {\r\n            setCards([...cards, ...res.cards]);\r\n        })\r\n            .catch(err => { console.log(err) })\r\n    }\r\n\r\n    // call cards and profile using hook's \"useEffect\"\r\n    React.useEffect(() => {\r\n        addCards();\r\n    }, [token]);\r\n\r\n    // function for sending card likes or unlikes to API and resetting the status accordingly\r\n    function handleCardLike(card) {\r\n        const isLiked = card.likes.some(cardLike => cardLike === currentUser.id);\r\n        api.changeLikeCardStatus(card._id, isLiked, token).then((likedCard) => {\r\n            setCards(cards.map((cardItem) => cardItem._id === card._id ? likedCard.cardData : cardItem));\r\n        })\r\n            .catch(err => { console.log(err) });\r\n    }\r\n\r\n    // function for deleting a card\r\n    function handleCardDelete(card) {\r\n        handleConfirmDeleteClick(card);\r\n    }\r\n\r\n    // confirm deletion of card\r\n    function confirmDeleteClick() {\r\n        console.log(cardForDelete);\r\n        api.deleteCard(cardForDelete._id, token).then(res => {\r\n            setCards(cards.filter((cardItem) => cardItem._id !== cardForDelete._id))\r\n            setCardForDelete();\r\n            closeAllPopups();\r\n        })\r\n            .catch(err => { console.log(err) });\r\n    }\r\n\r\n    // function for adding a card\r\n    function addCardHandler(cardData) {\r\n        api.addCard(cardData, token).then(res => {\r\n            setCards([res.data, ...cards])\r\n            closeAllPopups();\r\n        })\r\n            .catch(err => { console.log(err) });\r\n    }\r\n\r\n    // Components_____________________________________________________________________Components\r\n    return (\r\n\r\n        <div>\r\n            <CurrentUserContext.Provider value={currentUser}>\r\n                <Header\r\n                    headerLink={headerLink}\r\n                    setLoginPath={setLoginPath}\r\n                    setRegisterPath={setRegisterPath}\r\n                    setLogoutPath={setLogoutPath}\r\n                    signOut={signOut}\r\n                    userEmail={userEmail} />\r\n                <Switch>\r\n                    <ProtectedRoute exact path='/'\r\n                        loggedIn={loggedIn}\r\n                        component={<Main\r\n                            onEditAvatarClick={handleEditAvatarClick}\r\n                            onEditProfileClick={handleEditProfileClick}\r\n                            onAddPlaceClick={handleAddPlaceClick}\r\n                            onCardClick={handleCardClick}\r\n                            cards={cards}\r\n                            handleCardLike={handleCardLike}\r\n                            handleCardDelete={handleCardDelete} />}>\r\n                    </ProtectedRoute>\r\n                    <Route path='/signin'>\r\n                        <Authorization\r\n                            props={loginProps}\r\n                            handleAuthorization={handleLogin} />\r\n                    </Route>\r\n                    <Route path='/signup'>\r\n                        <Authorization\r\n                            props={signupProps}\r\n                            handleAuthorization={handleRegistration} />\r\n                    </Route>\r\n                </Switch>\r\n                <Footer />\r\n                <EditProfilePopup isOpen={isEditProfilePopupOpen}\r\n                    onClose={closeAllPopups}\r\n                    onUpdateUser={handleUpdateUser} />\r\n                <EditAvatarPopup isOpen={isEditAvatarPopupOpen}\r\n                    onClose={closeAllPopups} />\r\n                <AddPlacePopup isOpen={isAddPlacePopupOpen}\r\n                    onClose={closeAllPopups}\r\n                    onAddCard={addCardHandler} />\r\n                <EditAvatarPopup isOpen={isEditAvatarPopupOpen}\r\n                    onClose={closeAllPopups}\r\n                    onUpdateAvatar={handleUpdateAvatar} />\r\n                <ImagePopup card={selectedCard}\r\n                    onClose={closeAllPopups} />\r\n                <ConfirmDeletePopup isOpen={isConfirmDeletePopupOpen}\r\n                    onClose={closeAllPopups}\r\n                    cardDelete={confirmDeleteClick} />\r\n                <InfoTooltip isOpen={isRegisteredPopupOpen}\r\n                    isRegistered={isRegistered}\r\n                    onClose={closeAllPopups} />\r\n            </CurrentUserContext.Provider>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter basename=\"/\">\r\n    <App />\r\n    </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}